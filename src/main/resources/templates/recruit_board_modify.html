<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="layout">


<head>
  <meta charset="UTF-8">
  <title>구인글 게시판: 게시물 작성</title>
  <link href="https://fonts.googleapis.com/css?family=Noto+Sans KR&display=swap" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/style/recruit_board_edit.css}">
  <script th:inline="javascript">
    function submitHandler() {

      const channel = 'input[name="channel_categories"]:checked';
      const selectedchannel =
              document.querySelectorAll(channel);
      let channel_result = '';
      selectedchannel.forEach((el) => {
        channel_result += el.value + ' ';
      });

      const tools = 'input[name="edit_tools"]:checked';
      const selectedtools =
              document.querySelectorAll(tools);

      let tools_result = '';
      selectedtools.forEach((el) => {
        tools_result += el.value + ' ';
      })

      if(channel_result == '') {
        alert("채널 카테고리를 하나 이상 선택하세요");
        return false;
      }
      else if(tools_result == '') {
        alert("편집툴을 하나 이상 선택하세요");
        return false;
      }

    }

    function init() {
      var signupForm = document.querySelector('#signupForm');
      signupForm.onsubmit = submitHandler;
    }
    window.onload = init;

    var msg=[[${errormsg}]];
    if(msg != null){
      alert(msg);
    }
  </script>
</head>

<th:block layout:fragment="content">
<body>
  <main>
    <div class="job">
      <form id="signupForm" name="signupForm" method="POST" th:action = "@{/recruit_board_modify}">
        <div>
          <h1>제목 : <input type="text" placeholder="제목을 입력하세요" id="recruit_title" name = "recruit_title" th:value = "${recruitDO.title}" required></h1>
        </div>
        <hr>
        <div>
          유튜버 정보 들어가는 칸 (이미지/채널명/인증마크)
        </div>
        <div>
          <span class="titleText">유튜브 채널 카테고리 : </span>
          <span class="inputBox" name = "channels">
            <label><input type="checkbox" name="channel_categories" value = "먹방" th:checked = "${returnCategory[0]}"> 먹방</label>
            <label><input type="checkbox" name="channel_categories" value = "게임" th:checked = "${returnCategory[1]}"> 게임</label>
            <label><input type="checkbox" name="channel_categories" value = "일상" th:checked = "${returnCategory[2]}"> 일상</label>
            <label><input type="checkbox" name="channel_categories" value = "요리" th:checked = "${returnCategory[3]}"> 요리</label>
            <label><input type="checkbox" name="channel_categories" value = "음악" th:checked = "${returnCategory[4]}"> 음악</label>
            <label><input type="checkbox" name="channel_categories" value = "영화" th:checked = "${returnCategory[5]}"> 영화</label>
            <label><input type="checkbox" name="channel_categories" value = "스포츠" th:checked = "${returnCategory[6]}"> 스포츠</label>
            <label><input type="checkbox" name="channel_categories" value = "학습" th:checked = "${returnCategory[7]}"> 학습</label>
            <label><input type="checkbox" name="channel_categories" value = "소통" th:checked = "${returnCategory[8]}"> 소통</label><br/>
            <label><input type="checkbox" name="channel_categories" value = "자동차" th:checked = "${returnCategory[9]}"> 자동차</label>
            <label><input type="checkbox" name="channel_categories" value = "IT" th:checked = "${returnCategory[10]}"> IT</label>
            <label><input type="checkbox" name="channel_categories" value = "이슈" th:checked = "${returnCategory[11]}"> 이슈</label>
            <label><input type="checkbox" name="channel_categories" value = "동물" th:checked = "${returnCategory[12]}"> 동물</label>
            <label><input type="checkbox" name="channel_categories" value = "기타" th:checked = "${returnCategory[13]}"> 기타</label>
          </span><br>
          마감일 : <input type="date" name="deadline" th:value = "${recruitDO.deadline}" required><br>
          직무 : <input type="text" placeholder="직무를 입력 하세요" name = "duty" th:value = "${recruitDO.duty}" required><br>
          작업량 : <input type="text" placeholder="일주일 작업량을 입력 하세요" name = "workload" th:value = "${recruitDO.workLoad}" required><br>
          자격 요건 : <input type="text" placeholder="자격요건을 입력 하세요" name = "requirement" th:value = "${recruitDO.RequireMent}" required><br>
          급여: <input type="number" placeholder="급여를 입력 하세요" name = "salary" th:value = "${recruitDO.salary}" required><br>
          급여 상세 : <input type="text" placeholder="급여 상세를 입력 하세요" name = "salary_detail" th:value = "${recruitDO.salaryDetail}" required><br>
          우대 사항 : <input type="text" placeholder="우대 사항을 입력 하세요" name = "preference" th:value = "${recruitDO.preference}" required><br>


          <span class="titleText">편집 툴 : </span>
          <span class="inputBox" name = "edits">
            <label><input type="checkbox" name="edit_tools" value = "프리미어프로" th:checked = "${returnTools[0]}" > 프리미어 프로</label>
            <label><input type="checkbox" name="edit_tools" value = "애프터이펙트" th:checked = "${returnTools[1]}"> 애프터 이펙트</label>
            <label><input type="checkbox" name="edit_tools" value = "베가스" th:checked = "${returnTools[2]}"> 베가스</label>
            <label><input type="checkbox" name="edit_tools" value = "파이널컷" th:checked = "${returnTools[3]}"> 파이널 컷</label>
            <label><input type="checkbox" name="edit_tools" value = "파워디렉터" th:checked = "${returnTools[4]}"> 파워 디렉터</label>
            <label><input type="checkbox" name="edit_tools" value = "포토샵" th:checked = "${returnTools[5]}"> 포토샵</label><br>
            <label><input type="checkbox" name="edit_tools" value = "일러스트레이터" th:checked = "${returnTools[6]}"> 일러스트레이터</label>
            <label><input type="checkbox" name="edit_tools" value = "마야" th:checked = "${returnTools[7]}"> MaYa</label>
            <label><input type="checkbox" name="edit_tools" value = "블렌더" th:checked = "${returnTools[8]}"> Blender</label>
            <label><input type="checkbox" name="edit_tools" value = "기타" th:checked = "${returnTools[9]}"> 기타</label>
          </span><br>

          근무 환경 : <input type="text" placeholder="근무 환경을 입력 하세요" name = "environment" th:value = "${recruitDO.environment}" required><br>
          복리 후생 : <input class="input1" type="text" placeholder="복리 후생을 입력 하세요" name = "welfare" th:value = "${recruitDO.welfare}" required><br>
          상세 모집 내용 : <input class="input2" type="text" placeholder="상세 모집 내용을 입력 하세요" name = "recruit_detail" th:value = "${recruitDO.recruit_Detail}" required><br>
          <span class="inputBox" name = "public">
        </span>
        </div>
        <br>
        <div>
          유튜브 채널 링크 또는 지원자들이 편집해야하는 영상 링크를 넣어주세요! <br>
          <input type="text" placeholder = "www.youtube.com" name = "original_link" th:value = "${recruitDO.original_link}" required>
        </div>

        <input  th:value = "${recruitDO.recruitNo}" th:name = "recruitNo" id = "recruitNo" type="hidden"/>
        <button class="btn" onsubmit="init()" type = "submit">수정완료</button>

      </form>
    </div>
  </main>

</body>
</th:block>
</html>